<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Generates batches of data from images in a directory (with optional
augmented/normalized data) — flow_images_from_directory • keras</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cosmo/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><script src="../extra.js"></script><meta property="og:title" content="Generates batches of data from images in a directory (with optional
augmented/normalized data) — flow_images_from_directory"><meta property="og:description" content="Generates batches of data from images in a directory (with optional
augmented/normalized data)"><meta property="og:image" content="/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">keras</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.8.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../index.html">Home</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Tutorials
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/getting_started.html">Getting Started</a>
    </li>
    <li>
      <a href="../articles/tutorial_basic_classification.html">Basic Classification</a>
    </li>
    <li>
      <a href="../articles/tutorial_basic_text_classification.html">Text Classification</a>
    </li>
    <li>
      <a href="../articles/tutorial_basic_regression.html">Basic Regression</a>
    </li>
    <li>
      <a href="../articles/tutorial_overfit_underfit.html">Overfitting and Underfitting</a>
    </li>
    <li>
      <a href="../articles/tutorial_save_and_restore.html">Save and Restore Models</a>
    </li>
  </ul></li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li class="dropdown-header">Guides (New for TF 2.6)</li>
    <li>
      <a href="../articles/new-guides/python_subclasses.html">Python Subclasses</a>
    </li>
    <li>
      <a href="../articles/new-guides/making_new_layers_and_models_via_subclassing.html">Making New Layers and Models via Subclassing</a>
    </li>
    <li>
      <a href="../articles/new-guides/customizing_what_happens_in_fit.html">Customizing What Happens in Fit</a>
    </li>
    <li>
      <a href="../articles/new-guides/writing_your_own_callbacks.html">Writing Your Own Callbacks</a>
    </li>
    <li>
      <a href="../articles/new-guides/preprocessing_layers.html">Working with Preprocessing Layers</a>
    </li>
    <li>
      <a href="../argicles/new-guides/working_with_rnns.html">Working with RNNs</a>
    </li>
    <li class="divider">
    <li class="dropdown-header">Using Keras</li>
    <li>
      <a href="../articles/guide_keras.html">Guide to Keras Basics</a>
    </li>
    <li>
      <a href="../articles/sequential_model.html">Sequential Model in Depth</a>
    </li>
    <li>
      <a href="../articles/functional_api.html">Functional API in Depth</a>
    </li>
    <li>
      <a href="../articles/about_keras_models.html">About Keras Models</a>
    </li>
    <li>
      <a href="../articles/about_keras_layers.html">About Keras Layers</a>
    </li>
    <li>
      <a href="../articles/training_visualization.html">Training Visualization</a>
    </li>
    <li>
      <a href="../articles/applications.html">Pre-Trained Models</a>
    </li>
    <li>
      <a href="../articles/faq.html">Frequently Asked Questions</a>
    </li>
    <li>
      <a href="../articles/why_use_keras.html">Why Use Keras?</a>
    </li>
    <li class="divider">
    <li class="dropdown-header">Advanced</li>
    <li>
      <a href="../articles/eager_guide.html">Eager Execution</a>
    </li>
    <li>
      <a href="../articles/training_callbacks.html">Training Callbacks</a>
    </li>
    <li>
      <a href="../articles/backend.html">Keras Backend</a>
    </li>
    <li>
      <a href="../articles/custom_layers.html">Custom Layers</a>
    </li>
    <li>
      <a href="../articles/custom_models.html">Custom Models</a>
    </li>
    <li>
      <a href="../articles/saving_serializing.html">Saving and serializing</a>
    </li>
  </ul></li>
<li>
  <a href="../articles/learn.html">Learn</a>
</li>
<li>
  <a href="../articles/tools.html">Tools</a>
</li>
<li>
  <a href="../articles/examples/index.html">Examples</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/rstudio/keras/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Generates batches of data from images in a directory (with optional
augmented/normalized data)</h1>
    <small class="dont-index">Source: <a href="https://github.com/rstudio/keras/blob/HEAD/R/preprocessing.R" class="external-link"><code>R/preprocessing.R</code></a></small>
    <div class="hidden name"><code>flow_images_from_directory.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Generates batches of data from images in a directory (with optional
augmented/normalized data)</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">flow_images_from_directory</span><span class="op">(</span>
  <span class="va">directory</span>,
  generator <span class="op">=</span> <span class="fu"><a href="image_data_generator.html">image_data_generator</a></span><span class="op">(</span><span class="op">)</span>,
  target_size <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">256</span>, <span class="fl">256</span><span class="op">)</span>,
  color_mode <span class="op">=</span> <span class="st">"rgb"</span>,
  classes <span class="op">=</span> <span class="cn">NULL</span>,
  class_mode <span class="op">=</span> <span class="st">"categorical"</span>,
  batch_size <span class="op">=</span> <span class="fl">32</span>,
  shuffle <span class="op">=</span> <span class="cn">TRUE</span>,
  seed <span class="op">=</span> <span class="cn">NULL</span>,
  save_to_dir <span class="op">=</span> <span class="cn">NULL</span>,
  save_prefix <span class="op">=</span> <span class="st">""</span>,
  save_format <span class="op">=</span> <span class="st">"png"</span>,
  follow_links <span class="op">=</span> <span class="cn">FALSE</span>,
  subset <span class="op">=</span> <span class="cn">NULL</span>,
  interpolation <span class="op">=</span> <span class="st">"nearest"</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>directory</dt>
<dd><p>path to the target directory. It should contain one
subdirectory per class. Any PNG, JPG, BMP, PPM, or TIF images inside each
of the subdirectories directory tree will be included in the generator.
See <a href="https://gist.github.com/fchollet/0830affa1f7f19fd47b06d4cf89ed44d" class="external-link">this script</a>
for more details.</p></dd>
<dt>generator</dt>
<dd><p>Image data generator (default generator does no data
augmentation/normalization transformations)</p></dd>
<dt>target_size</dt>
<dd><p>integer vector, default: <code>c(256, 256)</code>. The dimensions to
which all images found will be resized.</p></dd>
<dt>color_mode</dt>
<dd><p>one of "grayscale", "rbg". Default: "rgb". Whether the
images will be converted to have 1 or 3 color channels.</p></dd>
<dt>classes</dt>
<dd><p>optional list of class subdirectories (e.g. <code>c('dogs', 'cats')</code>). Default: <code>NULL</code>, If not provided, the list of classes will be
automatically inferred (and the order of the classes, which will map to
the label indices, will be alphanumeric).</p></dd>
<dt>class_mode</dt>
<dd><p>one of "categorical", "binary", "sparse" or <code>NULL</code>.
Default: "categorical". Determines the type of label arrays that are
returned: "categorical" will be 2D one-hot encoded labels, "binary" will
be 1D binary labels, "sparse" will be 1D integer labels. If <code>NULL</code>, no
labels are returned (the generator will only yield batches of image data,
which is useful to use <code><a href="predict_generator.html">predict_generator()</a></code>, <code><a href="evaluate_generator.html">evaluate_generator()</a></code>,
etc.).</p></dd>
<dt>batch_size</dt>
<dd><p>int (default: <code>32</code>).</p></dd>
<dt>shuffle</dt>
<dd><p>boolean (defaut: <code>TRUE</code>).</p></dd>
<dt>seed</dt>
<dd><p>int (default: <code>NULL</code>).</p></dd>
<dt>save_to_dir</dt>
<dd><p><code>NULL</code> or str (default: <code>NULL</code>). This allows you to
optionally specify a directory to which to save the augmented pictures being
generated (useful for visualizing what you are doing).</p></dd>
<dt>save_prefix</dt>
<dd><p>str (default: ''). Prefix to use for filenames of saved
pictures (only relevant if <code>save_to_dir</code> is set).</p></dd>
<dt>save_format</dt>
<dd><p>one of "png", "jpeg" (only relevant if save_to_dir is
set). Default: "png".</p></dd>
<dt>follow_links</dt>
<dd><p>whether to follow symlinks inside class subdirectories
(default: <code>FALSE</code>)</p></dd>
<dt>subset</dt>
<dd><p>Subset of data (<code>"training"</code> or <code>"validation"</code>) if
<code>validation_split</code> is set in <code><a href="image_data_generator.html">image_data_generator()</a></code>.</p></dd>
<dt>interpolation</dt>
<dd><p>Interpolation method used to resample the image if the
target size is different from that of the loaded image. Supported methods
are "nearest", "bilinear", and "bicubic". If PIL version 1.1.3 or newer is
installed, "lanczos" is also supported. If PIL version 3.4.0 or newer is
installed, "box" and "hamming" are also supported. By default, "nearest"
is used.</p></dd>
</dl></div>
    <div id="details">
    <h2>Details</h2>
    <p>Yields batches indefinitely, in an infinite loop.</p>
    </div>
    <div id="yields">
    <h2>Yields</h2>
    <p><code>(x, y)</code> where <code>x</code> is an array of image data and <code>y</code> is a
array of corresponding labels. The generator loops indefinitely.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p>Other image preprocessing: 
<code><a href="fit_image_data_generator.html">fit_image_data_generator</a>()</code>,
<code><a href="flow_images_from_dataframe.html">flow_images_from_dataframe</a>()</code>,
<code><a href="flow_images_from_data.html">flow_images_from_data</a>()</code>,
<code><a href="image_load.html">image_load</a>()</code>,
<code><a href="image_to_array.html">image_to_array</a>()</code></p></div>
    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Tomasz Kalinowski, JJ Allaire, François Chollet, RStudio, Google.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.3.</p>
</div>

      </footer></div>

  


  

  </body></html>

